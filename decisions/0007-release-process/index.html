<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-decisions docs-version-current docs-doc-page docs-doc-id-0007-release-process" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Release Process | S3GW Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.s3gw.tech/img/s3gw-tech-social-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.s3gw.tech/img/s3gw-tech-social-card.png"><meta data-rh="true" property="og:url" content="https://docs.s3gw.tech/decisions/0007-release-process"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-decisions-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-decisions-current"><meta data-rh="true" property="og:title" content="Release Process | S3GW Documentation"><meta data-rh="true" name="description" content="Note Before"><meta data-rh="true" property="og:description" content="Note Before"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.s3gw.tech/decisions/0007-release-process"><link data-rh="true" rel="alternate" href="https://docs.s3gw.tech/decisions/0007-release-process" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.s3gw.tech/decisions/0007-release-process" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d171a0d7.css">
<script src="/assets/js/runtime~main.db4e1a95.js" defer="defer"></script>
<script src="/assets/js/main.546c5343.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/s3gw-tech-logo-200x200.png" alt="s3gw logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/s3gw-tech-logo-200x200.png" alt="s3gw logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">S3GW</b></a><a class="navbar__item navbar__link" href="/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" sidebarid="decisions" href="/decisions">Decisions</a><a class="navbar__item navbar__link" sidebarid="ideas" href="/ideas">Ideas</a></div><div class="navbar__items navbar__items--right"><a href="https://s3gw.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/s3gw-tech/s3gw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/orgs/s3gw-tech/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/decisions/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/decisions/adr-template">Template</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Decisions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0000-use-markdown-any-decision-records">Use Markdown Any Decision Records</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0001-reorganize-documentation">Reorganize Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0002-s3gw-storage-backend">s3gw Storage Backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0003-sfs">SFS SAL Backend Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0004-release-captain">Context and Problem Statement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0005-project-labels">Context and Problem Statement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0006-git-branches-tags">Git branches and tags</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/decisions/0007-release-process">Release Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0008-pull-requests-code-review-guide">Pull Requests and Code Review Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0009-sfs-collection-of-high-level-design-decisions">Collection of High Level Design Decisions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0010-sfs-versioning">SFS Versioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0011-sfs-timestamps">SFS Timestamps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0012-sfs-error-handling">SFS Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0013-ui-backend">s3gw-ui backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0014-ui-backend-api">s3gw-ui backend API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0015-release-methodology">Release Methodology for the s3gw project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0016-release-steps">Release Steps for the s3gw project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0017-release-testing">Testing a release</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0018-s3gw-ha-model">s3gw High Availability model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0019-severity-labels">Severity Labels</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Decisions</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Release Process</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Release Process</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="note-before">Note Before<a href="#note-before" class="hash-link" aria-label="Direct link to Note Before" title="Direct link to Note Before">​</a></h2>
<p>This document is superseded by three different ADRs, covering the same topics
and expanding them: <a href="/decisions/0015-release-methodology">Release Methodology</a>,
<a href="/decisions/0016-release-steps">Release Steps</a>, and <a href="/decisions/0017-release-testing">Release Testing</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="context-and-problem-statement">Context and Problem Statement<a href="#context-and-problem-statement" class="hash-link" aria-label="Direct link to Context and Problem Statement" title="Direct link to Context and Problem Statement">​</a></h2>
<p>Releasing is an essential process for the <code>s3gw</code> project. Given the project is
composed by various sub-projects, that need to be prepared, tested, and
eventually released, the Release Process is not trivial.</p>
<p>This document defines and agrees on the Release Process for the <code>s3gw</code> project,
including the steps to be taken on its individual sub-projects, and results
from several iterations defining the Release Process (previously kept in the
<a href="/decisions/0004-release-captain">Release Captain ADR</a>). The previous
document suffered significant changes since its inception, being modified for
almost every release we have had; we are hoping the present document will
benefit from more stability.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a href="#definitions" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">​</a></h2>
<p>Throughout this document we will often refer to certain things or terms. Below
we define what they mean.</p>
<ul>
<li>
<p>Version: the state of a given project, at a specific point in time.</p>
</li>
<li>
<p>Release Candidate: the tentative set of deliverables from the various <code>s3gw</code>
sub-projects&#x27; repositories at a certain version. It may become the final Release.</p>
</li>
<li>
<p>Release: the set of deliverables from the various <code>s3gw</code> sub-projects&#x27;
repositories at a certain version, published, and accompanied by a
Release Statement.</p>
</li>
<li>
<p>Release Statement: a document associated with a given Release, detailing the
version being released, and a Changelog.</p>
</li>
<li>
<p>Changelog: a list of significant changes that merit being communicated to
stakeholders in a human-consumable format.</p>
</li>
<li>
<p>Release Pipeline: the set of automated workflows triggered on a specific
moment, resulting in a set of containers or artifacts to be released.</p>
</li>
<li>
<p>Release Branch: the state of a given project&#x27;s development branch at a given
point in time, as a separate named branch in said project&#x27;s git repository.</p>
</li>
<li>
<p>Backport: the act of applying a patch to a Release Branch originated in a
more recent Release Branch or the development branch.</p>
</li>
<li>
<p>Quay: the current container registry of choice, found at <a href="https://quay.io" target="_blank" rel="noopener noreferrer">https://quay.io</a>.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-of-a-release">Architecture of a Release<a href="#architecture-of-a-release" class="hash-link" aria-label="Direct link to Architecture of a Release" title="Direct link to Architecture of a Release">​</a></h2>
<p>The <code>s3gw</code> project is composed by multiple sub-projects:</p>
<ul>
<li><a href="https://github.com/aquarist-labs/s3gw-ui/" target="_blank" rel="noopener noreferrer"><code>s3gw-ui</code></a>: The User Interface for <code>s3gw</code>.</li>
<li><a href="https://github.com/aquarist-labs/s3gw-charts/" target="_blank" rel="noopener noreferrer"><code>s3gw-charts</code></a>: Containing the Helm Chart to deploy <code>s3gw</code> in a Kubernetes
context.</li>
<li><a href="https://github.com/aquarist-labs/s3gw/" target="_blank" rel="noopener noreferrer"><code>s3gw</code></a>: Where most of our tooling and infrastructure scripts live.</li>
<li><a href="https://github.com/aquarist-labs/ceph/" target="_blank" rel="noopener noreferrer"><code>ceph</code></a>: Where the core backend of <code>s3gw</code> lives.</li>
</ul>
<p>Releasing <code>s3gw</code> is essentially a coordinated process with all the sub-projects,
which need to be prepared at different stages.</p>
<p>For instance, while the <code>s3gw-ui</code>, and <code>ceph</code> sub-projects can be
prepared independently, the <code>s3gw-charts</code> sub-project requires all pieces to be
in place before the final Release is performed. This stems from the Helm Chart
we provide depending on the various containers being published to Quay;
otherwise, the chart being released would point to unavailable containers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="versioning">Versioning<a href="#versioning" class="hash-link" aria-label="Direct link to Versioning" title="Direct link to Versioning">​</a></h3>
<p>Each release follows <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning</a>, with versions being in the format
<code>vX.Y.Z</code>.</p>
<p>When dealing with the individual sub-projects&#x27; repositories, we use
<code>s3gw-vX.Y</code> for release branches and <code>s3gw-vX.Y.Z</code> for version tags.
The <code>s3gw-</code> prefix in the sub-projects is needed to avoid naming conflicts with
existing tags in the <code>ceph</code> repo.
It is particularly important to understand the difference between a release
branch and a version tag.</p>
<p>A release branch represents the tree upon which the release <code>vX.Y</code> is based on,
and once created becomes immutable except for bug fixes (by backporting from the
main development branch). The version tags specify the point at which a given
release branch is released. A release branch may have multiple version tags
throughout the duration of its support lifecycle, as bug fixes are backported to
that particular release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="branching">Branching<a href="#branching" class="hash-link" aria-label="Direct link to Branching" title="Direct link to Branching">​</a></h3>
<p>A release represents a point in time of each sub-project&#x27;s repositories. To keep
track of the state of a sub-project&#x27;s state at that point in time, we rely on
branches. This allows us to bound the scope of a specific release, and makes
maintaining a release easier, especially when we need to release one or more
patch versions on top of the initial release version.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     main    s3gw-vX.Y branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        G    o &lt;tag: vX.Y.1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        F    F&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E    o &lt;tag: vX.Y.0&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D    E&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | .--&#x27; vX.Y initial branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The diagram above represents the branching out of version <code>vX.Y</code> from the main
branch for a given sub-project&#x27;s repository. As one can see, version <code>X.Y.0</code> is
released based on the initial branched off history, containing patches <code>A</code>, <code>B</code>,
and <code>C</code>, plus a backport of patch <code>E</code>. Later on, version <code>X.Y.1</code> is released
containing an additional backport for patch <code>F</code>. Both these backports are
assumed to be bug fixes. We thus maintain a stable source of truth for version
<code>X.Y</code>, while being able to release versions of said branch at different points
in time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-candidate">Release Candidate<a href="#release-candidate" class="hash-link" aria-label="Direct link to Release Candidate" title="Direct link to Release Candidate">​</a></h3>
<p>Once we branch out the main branch to a release branch <code>s3gw-vX.Y</code>, we have a
given state with which we are comfortable but that still needs to be validated
prior to being released. This validation includes several automated and manual
tests, which are described in <a href="#testing">Testing</a>, but will require release
containers and artifacts to be built. These will be automatically built by our
infrastructure, but require nonetheless a tag to be associated with it.</p>
<p>Given we can&#x27;t simply create a version tag for something that hasn&#x27;t been
validated, we will rely on release candidates instead. Much like a version tag,
a release candidate specifies that a given point in time of a particular release
branch is considered close enough to being released, and takes the form of a tag
in the format <code>vX.Y.Z-rcN</code>, with <code>N</code> being the number of the release candidate
for version <code>X.Y.Z</code>, in ascending fashion. As an example, take the diagram
below.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">     main    s3gw-vX.Y branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        G    o &lt;tag: vX.Y.1-rc1&gt; &lt;tag: vX.Y.1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        F    F&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E    o &lt;tag: vX.Y.0-rc2&gt; &lt;tag: vX.Y.0&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    E&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |    o &lt;tag: vX.Y.0-rc1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |  /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example we can see that, upon branching off from main, we create a
<code>vX.Y.0-rc1</code> tag, which will trigger our infrastructure automation and build the
various artifacts needed for a release. In this case we must have identified a
problem, because we had to apply a backport <code>E&#x27;</code> to the release branch. This
would have led us to create a new release candidate <code>vX.Y.0-rc2</code>, which upon
validation was deemed correct and released as <code>vX.Y.0</code>. Later on we must have
found that a new bug fix was required, had patch <code>F&#x27;</code> backported, and a new
release candidate for version <code>X.Y.1</code> was created, <code>vX.Y.1-rc1</code>. Once this
release candidate was properly validated, version <code>vX.Y.1</code> was released.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-by-step-release-process">Step-by-Step Release Process<a href="#step-by-step-release-process" class="hash-link" aria-label="Direct link to Step-by-Step Release Process" title="Direct link to Step-by-Step Release Process">​</a></h2>
<ol>
<li>
<p>For each sub-project repository, and for the <code>s3gw</code> repository, branch off
<code>main</code> to a new release branch. This can be achieved via the GitHub web
UI<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>, or by pushing the new branch to the repository via the CLI<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>.
Release branch names follow the <code>s3gw-vX.Y</code> convention.</p>
</li>
<li>
<p>For sub-project <code>s3gw-ui</code> and <code>ceph</code>, tag the release branch
as a release candidate<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>. We do not tag the <code>s3gw-charts</code> repository
because that would trigger a release workflow that we don&#x27;t want to trigger
at this time<sup><a href="#user-content-fn-4" id="user-content-fnref-4" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup>. The following example assumes <code>upstream</code> as the source remote
for a given sub-project, and <code>v0.11</code> as the version being released. Keep in
mind that when tagging, creating a signed and annotated tag<sup><a href="#user-content-fn-5" id="user-content-fnref-5" data-footnote-ref="true" aria-describedby="footnote-label">5</a></sup> is crucial.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git checkout upstream/s3gw-v0.11 -b s3gw-v0.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag --annotate --sign -m &quot;Release Candidate 1 for v0.11.0&quot; s3gw-v0.11.0-rc1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push upstream s3gw-v0.11.0-rc1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>In the <code>s3gw</code> repository&#x27;s newly created release branch, update the various
sub-projects&#x27; state to reflect the now existing tags. This can be achieved in
by checking out the appropriate tag on each individual sub-project&#x27;s
submodule directory. A commit will be necessary to persist the
changes. The following shows a trimmed example of what to do.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># in the root of the s3gw repo, branch s3gw-v0.11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ceph/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git remote update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout origin/s3gw-v0.11.0-rc1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git add ceph/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># repeat for the several other sub-projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git commit -s -S -m &quot;update submodules for v0.11.0-rc1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git submodule update --init --remote --sync</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Tag the <code>s3gw</code> repository with the appropriate release candidate tag.
It is important, that this tag contains only the <code>vX.Y.Z</code> version.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git tag --annotate --sign -m &quot;Release Candidate 1 for v0.11.0&quot; v0.11.0-rc1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Push the release branch and tag. This will trigger the release pipeline,
creating the various release artifacts and a draft release.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git push upstream s3gw-v0.11</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Once the containers have been created and pushed to Quay, it&#x27;s time to start
validating the release candidate. Please refer to the
<a href="#testing">Testing Section</a> before continuing.</p>
</li>
<li>
<p>If any patches needed to be backported at some point since the last release
candidate, please go back to <code>step 2.</code> and increase the release candidate
version by <code>1</code> (i.e., <code>-rc2</code>, <code>-rc3</code>, etc.). Even if a particular sub-project
repository has not been changed, it is still crucial to tag it with the new
release candidate version, for consistency across repositories.</p>
</li>
<li>
<p>Assuming everything goes well, we can now go through step <code>2.</code> but, instead
of tagging for a release candidate version, we will be tagging for the
release version.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git tag --annotate --sign -m &quot;Release v0.11.0&quot; v0.11.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push upstream s3gw-v0.11</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>At this point we will need to update the Helm Chart to reflect the release
version. This becomes a bit tricky, because we want the change to be reflected
in both the <code>main</code> branch and the <code>s3gw-vX.Y</code> branch on the <code>s3gw-charts</code>
repository. To do this, we will apply a patch to the <code>main</code> branch, and then
backport the change to the release branch.</p>
<p>First, for <code>v0.11.0</code>, the chart version needs to be updated with the specific
version, at <code>charts/s3gw/Chart.yaml</code>. This change should then be committed,
and a Pull Request of this change opened against <code>main</code>.</p>
<p>Once the Pull Request has been merged, note down the new commit&#x27;s <code>SHA</code>;
running <code>git log</code> should give you its value. We can now change to the
<code>s3gw-v0.11</code> branch, and <code>cherry-pick</code> the commit, and finally tag the branch
with the release version.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git cherry-pick -x -s -S &lt;SHA&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag --annotate --sign -m &quot;Release v0.11.0&quot; s3gw-v0.11.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push upstream s3gw-v0.11</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>With all sub-project repositories ready to be released, it&#x27;s time to prepare
the <code>s3gw</code> repository for a release. Much like what we did for the
<code>s3gw-charts</code> repository, we will have to apply a patch on the <code>main</code> branch
first, and then backport it to the release branch: this time to keep track
of the <code>CHANGELOG</code>.</p>
<p>First step, we need to go to the <a href="https://github.com/aquarist-labs/s3gw/wiki/Current-CHANGELOG" target="_blank" rel="noopener noreferrer">Current CHANGELOG</a> page on the
repository&#x27;s Wiki, and copy the contents for the release version being
handled to a file at <code>docs/release-notes/s3gw-vX.Y.Z.md</code>. Keep in mind the
release notes should be easily consumable by a human. Feel free to take
inspiration on previous release notes, and maintain consistency with them.
We should also ensure the symbolic link at
<code>docs/release-notes/s3gw-latest.md</code> is updated to point to the newly created
file. It is crucial that the resulting commit includes these two changes.</p>
<p>Creating a Pull Request against <code>s3gw</code>&#x27;s <code>main</code> branch is the next step.
Once that has been merged, note down the new commit&#x27;s <code>SHA</code>, go back to the
<code>s3gw-vX.Y</code> branch, and cherry-pick the commit, tagging the branch with for
our specific release.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git cherry-pick -x -s -S &lt;SHA&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git tag --annotate --sign -m &quot;Release v0.11.0&quot; s3gw-v0.11.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push upstream s3gw-v0.11</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By pushing the branch with the release tag, we will trigger the release
workflow that will build the various release artifacts and publish the
containers on Quay.</p>
</li>
<li>
<p>During the release workflow, a <a href="https://github.com/aquarist-labs/s3gw/releases" target="_blank" rel="noopener noreferrer">release draft</a> will be created. Once the
release artifacts have finished building, and have been published on Quay,
we can then copy the contents of the release notes file we created in
step <code>10.</code>, and make the release draft public.</p>
<p>It is advised that before making the release draft public, the list in
<a href="#sanity-checks">Sanity Checks</a> be ensured to hold true.</p>
</li>
<li>
<p>With the release now complete, it is time to shout about it from the
rooftops. A release announcement should now be sent to the various
communication channels being used by the project.</p>
<ul>
<li>rancher-users Slack channel <code>#s3gw</code></li>
<li>SUSE Slack channel <code>#discuss-s3gw</code></li>
<li>project mailing list at <code>s3gw@suse.com</code></li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sanity-checks">[Sanity Checks]<a href="#sanity-checks" class="hash-link" aria-label="Direct link to [Sanity Checks]" title="Direct link to [Sanity Checks]">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <code>s3gw</code> container has been published on Quay for <code>vX.Y.Z</code>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>s3gw-ui</code> container has been published on Quay for <code>vX.Y.Z</code>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->both containers are appropriately tagged with <code>vX.Y.Z</code> on Quay.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->both containers are tagged with <code>latest</code> on Quay.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <code>latest</code> version containers are the same as the <code>vX.Y.Z</code> containers on
Quay.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Helm Chart has been properly updated for <code>vX.Y.Z</code>.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Helm Chart for <code>vX.Y.Z</code> is visible on <a href="https://artifacthub.io/packages/helm/s3gw/s3gw" target="_blank" rel="noopener noreferrer">ArtifactHub</a>. This can take
about 20 minutes.</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->The release notes are in place, both on the <code>s3gw</code> repository&#x27;s <code>main</code>
branch and on the <code>s3gw-vX.Y</code> branch.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing">[Testing]<a href="#testing" class="hash-link" aria-label="Direct link to [Testing]" title="Direct link to [Testing]">​</a></h2>
<p>To be expanded in the future, or maybe link to a proper testing document.</p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Install the <code>s3gw-ui</code> container and sign-in. Perform some actions like
creating/update/delete users and buckets. Also try uploading/deleting
objects in buckets.</li>
</ul>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-1">
<p>For example, for a <code>v0.11.0</code> release, for the <code>s3gw</code>
repository, go to the <a href="https://github.com/aquarist-labs/s3gw/branches" target="_blank" rel="noopener noreferrer">Branches Page</a> and click the <code>New branch</code> button. <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>For example, for a <code>v0.11.0</code> release, <code>git branch --copy main s3gw-v0.11</code> <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-3">
<p>Please refer to <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging" target="_blank" rel="noopener noreferrer">Git&#x27;s Documentation</a> for more information on Tagging. <a href="#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-4">
<p>While the release workflow on <code>s3gw-charts</code> would be triggered, it
wouldn&#x27;t run to completion given the version of the chart hasn&#x27;t increased
over the tag in the repository. <a href="#user-content-fnref-4" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-5">
<p>Annotated tags keep information about creation time, author, a message,
are checksummed, and can be signed, being full fledged git objects. For a
release it is important to keep this information. A lightweight tag, on the
other hand, is often used for temporary purposes. <a href="#user-content-fnref-5" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/decisions/0006-git-branches-tags"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Git branches and tags</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/decisions/0008-pull-requests-code-review-guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pull Requests and Code Review Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#note-before" class="table-of-contents__link toc-highlight">Note Before</a></li><li><a href="#context-and-problem-statement" class="table-of-contents__link toc-highlight">Context and Problem Statement</a></li><li><a href="#definitions" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#architecture-of-a-release" class="table-of-contents__link toc-highlight">Architecture of a Release</a><ul><li><a href="#versioning" class="table-of-contents__link toc-highlight">Versioning</a></li><li><a href="#branching" class="table-of-contents__link toc-highlight">Branching</a></li><li><a href="#release-candidate" class="table-of-contents__link toc-highlight">Release Candidate</a></li></ul></li><li><a href="#step-by-step-release-process" class="table-of-contents__link toc-highlight">Step-by-Step Release Process</a><ul><li><a href="#sanity-checks" class="table-of-contents__link toc-highlight">[Sanity Checks]</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">[Testing]</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Quick Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/decisions">Decisions</a></li><li class="footer__item"><a class="footer__link-item" href="/ideas">Ideas</a></li><li class="footer__item"><a class="footer__link-item" href="/s3-compatibility-table">S3 Compatibility</a></li></ul></div><div class="col footer__col"><div class="footer__title">S3GW Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://s3gw.tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/s3gw-tech/s3gw" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/s3gw-tech/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://artifacthub.io/packages/helm/s3gw/s3gw" target="_blank" rel="noopener noreferrer" class="footer__link-item">ArtifactHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://quay.io/organization/s3gw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quay<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 s3gw.tech contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>