<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-decisions docs-version-current docs-doc-page docs-doc-id-0015-release-methodology" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Release Methodology for the s3gw project | S3GW Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.s3gw.tech/img/s3gw-tech-social-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.s3gw.tech/img/s3gw-tech-social-card.png"><meta data-rh="true" property="og:url" content="https://docs.s3gw.tech/decisions/0015-release-methodology"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-decisions-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-decisions-current"><meta data-rh="true" property="og:title" content="Release Methodology for the s3gw project | S3GW Documentation"><meta data-rh="true" name="description" content="Context and Problem Statement"><meta data-rh="true" property="og:description" content="Context and Problem Statement"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.s3gw.tech/decisions/0015-release-methodology"><link data-rh="true" rel="alternate" href="https://docs.s3gw.tech/decisions/0015-release-methodology" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.s3gw.tech/decisions/0015-release-methodology" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.6324934d.css">
<script src="/assets/js/runtime~main.db4e1a95.js" defer="defer"></script>
<script src="/assets/js/main.9d90e6c2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/s3gw-tech-logo-round-solo.png" alt="s3gw.tech logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/s3gw-tech-logo-round-dark-solo.png" alt="s3gw.tech logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">S3GW</b></a><a class="navbar__item navbar__link" href="/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" sidebarid="decisions" href="/decisions">Decisions</a><a class="navbar__item navbar__link" sidebarid="ideas" href="/ideas">Ideas</a></div><div class="navbar__items navbar__items--right"><a href="https://s3gw.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/s3gw-tech/s3gw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/orgs/s3gw-tech/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/decisions/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/decisions/adr-template">Template</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Decisions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0000-use-markdown-any-decision-records">Use Markdown Any Decision Records</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0001-reorganize-documentation">Reorganize Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0002-s3gw-storage-backend">s3gw Storage Backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0003-sfs">SFS SAL Backend Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0004-release-captain">Context and Problem Statement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0005-project-labels">Context and Problem Statement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0006-git-branches-tags">Git branches and tags</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0007-release-process">Release Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0008-pull-requests-code-review-guide">Pull Requests and Code Review Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0009-sfs-collection-of-high-level-design-decisions">Collection of High Level Design Decisions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0010-sfs-versioning">SFS Versioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0011-sfs-timestamps">SFS Timestamps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0012-sfs-error-handling">SFS Error Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0013-ui-backend">s3gw-ui backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0014-ui-backend-api">s3gw-ui backend API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/decisions/0015-release-methodology">Release Methodology for the s3gw project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0016-release-steps">Release Steps for the s3gw project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0017-release-testing">Testing a release</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0018-s3gw-ha-model">s3gw High Availability model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/decisions/0019-severity-labels">Severity Labels</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Decisions</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Release Methodology for the s3gw project</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Release Methodology for the s3gw project</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="context-and-problem-statement">Context and Problem Statement<a href="#context-and-problem-statement" class="hash-link" aria-label="Direct link to Context and Problem Statement" title="Direct link to Context and Problem Statement">​</a></h2>
<p>Releasing is an essential process for the <code>s3gw</code> project. Given the project is
composed by various sub-projects, that need to be prepared, tested, and
eventually released, the Release Process is not trivial.</p>
<p>This document defines and agrees on the Release Methodology for the <code>s3gw</code>
project, and results from splitting the <a href="/decisions/0007-release-process">Release Process ADR</a> in
three documents: methodology (this document), <a href="/decisions/0016-release-steps">Release Steps</a>, and
<a href="/decisions/0017-release-testing">Release Testing</a>.</p>
<p>This document supersedes the <a href="/decisions/0007-release-process">Release Process ADR</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="definitions">Definitions<a href="#definitions" class="hash-link" aria-label="Direct link to Definitions" title="Direct link to Definitions">​</a></h2>
<p>Throughout this document we will often refer to certain things or terms. Below
we define what they mean.</p>
<ul>
<li>
<p>Version: the state of a given project, at a specific point in time.</p>
</li>
<li>
<p>Release Candidate: the tentative set of deliverables from the various <code>s3gw</code>
sub-projects&#x27; repositories at a certain version. It may become the final Release.</p>
</li>
<li>
<p>Release: the set of deliverables from the various <code>s3gw</code> sub-projects&#x27;
repositories at a certain version, published, and accompanied by a
Release Statement.</p>
</li>
<li>
<p>Release Statement: a document associated with a given Release, detailing the
version being released, and a Changelog.</p>
</li>
<li>
<p>Changelog: a list of significant changes that merit being communicated to
stakeholders in a human-consumable format.</p>
</li>
<li>
<p>Release Pipeline: the set of automated workflows triggered on a specific
moment, resulting in a set of containers or artifacts to be released.</p>
</li>
<li>
<p>Release Branch: the state of a given project&#x27;s development branch at a given
point in time, as a separate named branch in said project&#x27;s git repository.</p>
</li>
<li>
<p>Backport: the act of applying a patch to a Release Branch originated in a
more recent Release Branch or the development branch.</p>
</li>
<li>
<p>Quay: the current container registry of choice, found at <a href="https://quay.io" target="_blank" rel="noopener noreferrer">https://quay.io</a>.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture-of-a-release">Architecture of a Release<a href="#architecture-of-a-release" class="hash-link" aria-label="Direct link to Architecture of a Release" title="Direct link to Architecture of a Release">​</a></h2>
<p>The <code>s3gw</code> project is composed by multiple sub-projects:</p>
<ul>
<li><a href="https://github.com/aquarist-labs/s3gw-ui/" target="_blank" rel="noopener noreferrer"><code>s3gw-ui</code></a>: The User Interface for <code>s3gw</code>.</li>
<li><a href="https://github.com/aquarist-labs/s3gw-charts/" target="_blank" rel="noopener noreferrer"><code>s3gw-charts</code></a>: Containing the Helm Chart to deploy <code>s3gw</code> in a Kubernetes
context.</li>
<li><a href="https://github.com/aquarist-labs/s3gw/" target="_blank" rel="noopener noreferrer"><code>s3gw</code></a>: Where most of our tooling and infrastructure scripts live.</li>
<li><a href="https://github.com/aquarist-labs/ceph/" target="_blank" rel="noopener noreferrer"><code>ceph</code></a>: Where the core backend of <code>s3gw</code> lives.</li>
<li><a href="https://github.com/aquarist-labs/s3gw-cosi-driver" target="_blank" rel="noopener noreferrer"><code>cosi-driver</code></a>: The COSI driver for Kubernetes.</li>
</ul>
<p>Releasing <code>s3gw</code> is essentially a coordinated process with all the sub-projects,
which need to be prepared at different stages.</p>
<p>For instance, while the <code>s3gw-ui</code>, and <code>ceph</code> sub-projects can be
prepared independently, the <code>s3gw-charts</code> sub-project requires all pieces to be
in place before the final Release is performed. This stems from the Helm Chart
we provide depending on the various containers being published to Quay;
otherwise, the chart being released would point to unavailable containers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="versioning">Versioning<a href="#versioning" class="hash-link" aria-label="Direct link to Versioning" title="Direct link to Versioning">​</a></h3>
<p>Each release follows <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">Semantic Versioning</a>, with versions being in the format
<code>vX.Y.Z</code>.</p>
<p>When dealing with the individual sub-projects&#x27; repositories, we use
<code>s3gw-vX.Y</code> for release branches and <code>s3gw-vX.Y.Z</code> for version tags.
The <code>s3gw-</code> prefix in the sub-projects is needed to avoid naming conflicts with
existing tags in the <code>ceph</code> repository.
It is particularly important to understand the difference between a release
branch and a version tag.</p>
<p>A release branch represents the tree upon which the release <code>vX.Y</code> is based on,
and once created becomes immutable except for bug fixes (by backporting from the
main development branch). The version tags specify the point at which a given
release branch is released. A release branch may have multiple version tags
throughout the duration of its support lifecycle, as bug fixes are backported to
that particular release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="branching">Branching<a href="#branching" class="hash-link" aria-label="Direct link to Branching" title="Direct link to Branching">​</a></h3>
<p>A release represents a point in time of each sub-project&#x27;s repositories. To keep
track of the state of a sub-project&#x27;s state at that point in time, we rely on
branches. This allows us to bound the scope of a specific release, and makes
maintaining a release easier, especially when we need to release one or more
patch versions on top of the initial release version.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">     main    s3gw-vX.Y branch</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        G    o &lt;tag: s3gw-vX.Y.1&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        F    F&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        E    o &lt;tag: s3gw-vX.Y.0&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        D    E&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        | .--&#x27; s3gw-vX.Y initial branch</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        C</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        B</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The diagram above represents the branching out of version <code>vX.Y</code> from the main
branch for a given sub-project&#x27;s repository. As one can see, version <code>X.Y.0</code> is
released based on the initial branched off history, containing patches <code>A</code>, <code>B</code>,
and <code>C</code>, plus a backport of patch <code>E</code>. Later on, version <code>X.Y.1</code> is released
containing an additional backport for patch <code>F</code>. Both these backports are
assumed to be bug fixes. We thus maintain a stable source of truth for version
<code>X.Y</code>, while being able to release versions of said branch at different points
in time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-candidate">Release Candidate<a href="#release-candidate" class="hash-link" aria-label="Direct link to Release Candidate" title="Direct link to Release Candidate">​</a></h3>
<p>Once we branch out the main branch to a release branch <code>s3gw-vX.Y</code>, we have a
given state with which we are comfortable but that still needs to be validated
prior to being released. This validation includes several automated and manual
tests, which are described in <a href="/decisions/0017-release-testing">Release Testing</a>, but will require release
containers and artifacts to be built. These will be automatically built by our
infrastructure, but require nonetheless a tag to be associated with it.</p>
<p>Given we can&#x27;t simply create a version tag for something that hasn&#x27;t been
validated, we will rely on release candidates instead. Much like a version tag,
a release candidate specifies that a given point in time of a particular release
branch is considered close enough to being released, and takes the form of a tag
in the format <code>s3gw-vX.Y.Z-rcN</code>, with <code>N</code> being the number of the release
candidate for version <code>X.Y.Z</code>, in ascending fashion. As an example, take the
diagram below.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">     main    s3gw-vX.Y branch</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        G    o &lt;tag: s3gw-vX.Y.1-rc1&gt; &lt;tag: s3gw-vX.Y.1&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        F    F&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        E    o &lt;tag: s3gw-vX.Y.0-rc2&gt; &lt;tag: s3gw-vX.Y.0&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    E&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        D    |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |    o &lt;tag: s3gw-vX.Y.0-rc1&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |  /</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        C</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        B</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        A</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example we can see that, upon branching off from main, we create a
<code>s3gw-vX.Y.0-rc1</code> tag, which will trigger our infrastructure automation and
build the various artifacts needed for a release. In this case we must have
identified a problem, because we had to apply a backport <code>E&#x27;</code> to the release
branch. This would have led us to create a new release candidate
<code>s3gw-vX.Y.0-rc2</code>, which upon validation was deemed correct and released as
<code>s3gw-vX.Y.0</code>. Later on we must have found that a new bug fix was required, had
patch <code>F&#x27;</code> backported, and a new release candidate for version <code>X.Y.1</code> was
created, <code>s3gw-vX.Y.1-rc1</code>. Once this release candidate was properly validated,
version <code>vX.Y.1</code> was released.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/decisions/0014-ui-backend-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">s3gw-ui backend API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/decisions/0016-release-steps"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Release Steps for the s3gw project</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context-and-problem-statement" class="table-of-contents__link toc-highlight">Context and Problem Statement</a></li><li><a href="#definitions" class="table-of-contents__link toc-highlight">Definitions</a></li><li><a href="#architecture-of-a-release" class="table-of-contents__link toc-highlight">Architecture of a Release</a><ul><li><a href="#versioning" class="table-of-contents__link toc-highlight">Versioning</a></li><li><a href="#branching" class="table-of-contents__link toc-highlight">Branching</a></li><li><a href="#release-candidate" class="table-of-contents__link toc-highlight">Release Candidate</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Quick Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/decisions">Decisions</a></li><li class="footer__item"><a class="footer__link-item" href="/ideas">Ideas</a></li><li class="footer__item"><a class="footer__link-item" href="/s3-compatibility-table">S3 Compatibility</a></li></ul></div><div class="col footer__col"><div class="footer__title">S3GW Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://s3gw.tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/s3gw-tech/s3gw" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/orgs/s3gw-tech/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://artifacthub.io/packages/helm/s3gw/s3gw" target="_blank" rel="noopener noreferrer" class="footer__link-item">ArtifactHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://quay.io/organization/s3gw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Quay<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 s3gw.tech contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>