"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9448],{228:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=n(4848),o=n(8453);const r={},t="Pull Requests and Code Review Guide",l={id:"0008-pull-requests-code-review-guide",title:"Pull Requests and Code Review Guide",description:"This is a guide not law.",source:"@site/../s3gw/docs/decisions/0008-pull-requests-code-review-guide.md",sourceDirName:".",slug:"/0008-pull-requests-code-review-guide",permalink:"/decisions/0008-pull-requests-code-review-guide",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"decisions",previous:{title:"Release Process",permalink:"/decisions/0007-release-process"},next:{title:"Collection of High Level Design Decisions",permalink:"/decisions/0009-sfs-collection-of-high-level-design-decisions"}},a={},d=[{value:"Protocol",id:"protocol",level:2},{value:"Review Purpose",id:"review-purpose",level:2},{value:"Pull Request Anatomy",id:"pull-request-anatomy",level:2},{value:"Expectations",id:"expectations",level:2},{value:"Role: Reviewer",id:"role-reviewer",level:3},{value:"Role: Author",id:"role-author",level:3},{value:"Suggestions",id:"suggestions",level:2},{value:"How to Do Code Reviews Like a Human Blog Series",id:"how-to-do-code-reviews-like-a-human-blog-series",level:3},{value:"Size",id:"size",level:3},{value:"Individual Commits",id:"individual-commits",level:3},{value:"Learning Opportunities",id:"learning-opportunities",level:3}];function c(e){const i={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"pull-requests-and-code-review-guide",children:"Pull Requests and Code Review Guide"}),"\n",(0,s.jsx)(i.p,{children:"This is a guide not law."}),"\n",(0,s.jsx)(i.p,{children:"Use common sense."}),"\n",(0,s.jsx)(i.p,{children:"Have fun."}),"\n",(0,s.jsx)(i.h2,{id:"protocol",children:"Protocol"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Open PR from your personal fork to a aquarist-labs repo."}),"\n",(0,s.jsx)(i.li,{children:"Assign to yourself. Set related Issue if it exists."}),"\n",(0,s.jsx)(i.li,{children:"Pick a reviewer. Ideally someone with domain knowledge. Pick more than one if the PR is particularly complex."}),"\n",(0,s.jsx)(i.li,{children:"Wait for review(s). Give about 2 days. If you haven't heard back after that or the PR is urgent ping reviewer(s)."}),"\n",(0,s.jsx)(i.li,{children:"Discuss, address feedback until \u2265 1 reviewer(s) approve. No active reviewer disapproves."}),"\n",(0,s.jsx)(i.li,{children:"Merge as soon as your work is approved"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"review-purpose",children:"Review Purpose"}),"\n",(0,s.jsx)(i.p,{children:"Improve quality"}),"\n",(0,s.jsx)(i.p,{children:"Catch bugs"}),"\n",(0,s.jsx)(i.p,{children:"Good engineering"}),"\n",(0,s.jsx)(i.p,{children:"Side effects:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Learning opportunities"}),"\n",(0,s.jsx)(i.li,{children:"Expose where we as a team have blind spots and more work to do (e.g create issues)"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"pull-request-anatomy",children:"Pull Request Anatomy"}),"\n",(0,s.jsxs)(i.p,{children:["Has a ",(0,s.jsx)(i.em,{children:"topic"}),", ",(0,s.jsx)(i.em,{children:"description"})," and \u2265 1 ",(0,s.jsx)(i.em,{children:"commits"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"A PR or commit must not contain changes that are not mentioned in a commit message.\nIt does what it says it does."}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:"Topic"}),"\nWhich feature, bug fix does the PR address?"]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:"Description"}),"\nUse the provided template and checklist.\nAdd issue number if it exists.\nSummarize your changes."]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.em,{children:"Commits"}),"\nEach commit contributes to the PR's topic.\nSome exceptions are okay: Refactoring to make follow ups possible/easier. Minor formatting changes.\nIndividual commits are GPG signed and have a DCO."]}),"\n",(0,s.jsx)(i.h2,{id:"expectations",children:"Expectations"}),"\n",(0,s.jsx)(i.h3,{id:"role-reviewer",children:"Role: Reviewer"}),"\n",(0,s.jsx)(i.p,{children:"Answer any questions the author has."}),"\n",(0,s.jsx)(i.p,{children:"Ask questions to understand the how and why."}),"\n",(0,s.jsx)(i.p,{children:"Provide productive, constructive feedback."}),"\n",(0,s.jsx)(i.p,{children:"Point out style violations (if not caught by automated system)."}),"\n",(0,s.jsx)(i.p,{children:"Suggest changes to improve code quality."}),"\n",(0,s.jsx)(i.p,{children:"Optional:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Run tests locally"}),"\n",(0,s.jsx)(i.li,{children:"Run benchmarks"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"role-author",children:"Role: Author"}),"\n",(0,s.jsx)(i.p,{children:"Drive the PR towards a merge."}),"\n",(0,s.jsx)(i.p,{children:"Incorporate feedback received from reviewers."}),"\n",(0,s.jsx)(i.p,{children:"Drive the discussion."}),"\n",(0,s.jsx)(i.p,{children:"Requests the review only after tests and static analysis tools pass in our CI.\nException: Draft PRs to receive early feedback."}),"\n",(0,s.jsx)(i.h2,{id:"suggestions",children:"Suggestions"}),"\n",(0,s.jsx)(i.h3,{id:"how-to-do-code-reviews-like-a-human-blog-series",children:"How to Do Code Reviews Like a Human Blog Series"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://mtlynch.io/human-code-reviews-1/",children:"Michael Lynch: How to Do Code Reviews Like a Human (Part One)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://mtlynch.io/human-code-reviews-2/",children:"Michael Lynch: How to Do Code Reviews Like a Human (Part Two)"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://mtlynch.io/code-review-love/",children:"Micheal Lynch: How to Make Your Code Reviewer Fall in Love with You"})}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"size",children:"Size"}),"\n",(0,s.jsx)(i.p,{children:"As small as possible. As big as necessary.\nShould capture a meaningful change."}),"\n",(0,s.jsx)(i.h3,{id:"individual-commits",children:"Individual Commits"}),"\n",(0,s.jsx)(i.p,{children:"Should have proper messages."}),"\n",(0,s.jsx)(i.p,{children:"Should tell a story of how the change comes to be."}),"\n",(0,s.jsx)(i.h3,{id:"learning-opportunities",children:"Learning Opportunities"}),"\n",(0,s.jsx)(i.p,{children:"If you are uncertain about how you expressed an ideal in code or\nlike a suggestion on how to improve code readability.\nFeel free to ask the reviewer for a suggestion."})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>t,x:()=>l});var s=n(6540);const o={},r=s.createContext(o);function t(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(r.Provider,{value:i},e.children)}}}]);